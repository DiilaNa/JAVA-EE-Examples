<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Event Manage</title>
    <style>
        #getAllEvents{
            width: 80px;
            height: 40px;
            background-color: lightblue;
        }
    </style>
</head>
<body>

<h2>Event Manager</h2>

<h3>Create / Update Event</h3>
<input type="text" id="eid" placeholder="Event ID (for update/delete)">
<input type="text" id="ename" placeholder="Event Name">
<input type="text" id="edescription" placeholder="Description">
<input type="date" id="edate">
<input type="text" id="eplace" placeholder="Place">
<button id="createEvent">Create</button>
<button id="updateEvent">Update</button>
<button id="deleteEvent">Delete</button>

<h3>All Events</h3>
<button id="getAllEvents">Get All</button>
<table id="eventTable">
    <thead>
    <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Description</th>
        <th>Date</th>
        <th>Place</th>
    </tr>
    </thead>
    <tbody></tbody>
</table>

<script src="jquery-3.7.1.min.js"></script>
<script>
    $('#getAllEvents').on('click',function (){
        $.ajax({
            url:'http://localhost:8080/App1_Web_exploded/event',
            method:'GET',
            success:function (response){
                alert('Data Fetched')
                response.map( (res) => {
                    const h3 = document.createElement('h3');
                    const h5 = document.createElement('h5');
                    const p = document.createElement('p');
                    const p2 = document.createElement('p');

                    p2.innerHTML = res.id;
                    h3.innerHTML = res.name;
                    p.innerHTML = res.date;
                    h5.innerHTML = res.time;
                    console.log(res);
                    $(".events").append(h3, h5, p2, p);
                })
            },
            error:function (error){
                alert("Error")
            }

        })


    });
    $('#save').onclick(function () {
        $.ajax({
            url:'http://localhost:8080/App1_Web_exploded/event',
            method: 'SAVE'
        })
    })
</script>
</body>
</html>